function SelectPersistedValue(n,t){var i=$(n).prop("type").toLowerCase(),r;(t===null||t===undefined||t==="")&&(t=$(n).attr("data-persisted-value"));t&&(i=="select-one"||i=="select-multiple")?($(n).get(0).querySelectorAll("option[value='"+t.replace("'","\\'")+"']").forEach(n=>{n.selected=!0}),$(n).find("option[value='"+t.replace("'","\\'")+"']").attr("selected",!0)):(i=="radio"||i=="checkbox")&&(r=n.value==t,(r||i=="checkbox")&&$(n).prop("checked",r))}function HandleDisableSubmitOnSubmit(){$("form").submit(function(n){var r=$(this),t=r.find("button[name='SubmitButton'][type='submit']:not([data-button-nodisable])"),i;t.length!=0&&(n.originalEvent!=undefined&&(i=n.originalEvent.submitter.value,$(this).append(`<input type="hidden" name="SubmitButton" value="${i}">`)),t.prop("disabled",!0))})}function ToggleCheckBoxes(n,t){var i,r;if(form=document.forms[n],form)for(i=0;i<form.elements.length;i++)r=form.elements[i],r.type!="checkbox"||r.disabled||(r.checked=t)}function InitializeSiteDefault(n){n&&$(document).ready(function(){$("select[name='Site']").find("option[value != '"+n+"']").remove().val(n)})}function HandleBoolCheckboxes(){$(".checkbox-as-bool").each(function(n,t){var i=$(t),r,u;if(i&&(r=i.attr("data-bool-fieldname"),r)){if(!$("input[name='"+r+"']").length){let n=document.createElement("input");n.setAttribute("type","hidden");n.setAttribute("name",r);n.setAttribute("value",`${i.prop("checked")?1:0}`);i.before(n)}(u=$("input[name='"+r+"']"),u)&&i.click(function(){i.prop("checked")?u.val(1):u.val(0)})}})}function HandleOtherCheckboxes(){$(".checkbox-with-other").each(function(n,t){var s=$(t).attr("data-hidden-field"),u=document.getElementById(s),i=$(t).attr("data-delimiter"),h=$(t).attr("data-other-field"),f=document.getElementById(h),r=$(u).val().split(i),e,o;$(t).find('input[type="checkbox"]').each(function(n,t){$(t).change(function(){if($(t).is(":checked"))r=$(u).val().split(i),r.push($(t).val());else{r=$(u).val().split(i);var n=r.indexOf($(t).val());n>-1&&r.splice(n,1)}$(u).val(r.join(i))});r.indexOf($(t).val())!=-1&&$(t).prop("checked",!0)});e=$(t).find('input[type="checkbox"]:checked').map(function(){return $(this).val()}).get().join(i);o=r.filter(n=>!e.includes(n));$(f).val(o);$(f).on("input propertychange paste",function(){var r=$(t).find('input[type="checkbox"]:checked').map(function(){return $(this).val()}).get().join(i),n=[];r!=""&&(n=n.concat(r.split(i)));n.push($(f).val());$(u).val(n.join(i))})})}function HandleOtherDropdowns(){$("select.dropdown-with-other").each(function(){$(this).change(function(){let n=$("input[data-field-name='"+$(this).attr("data-field-name")+"']");this.value==$(this).attr("data-other-value")?(n.closest(".form-group").show(),$(n).val(null)):($(n).val(this.value),n.closest(".form-group").hide())});let n=$("input[data-field-name='"+$(this).attr("data-field-name")+"']");n.val()!=null?$(this).find("option[value='"+n.val()+"']").length>0?($(this).val(n.val()),$(this).trigger("change")):$(this).val($(this).attr("data-other-value")):$(this).trigger("change")})}function DisableEmptyActionMenus(){var n=$(".dropdown-menu"),t=$(".dropdown-toggle");n.each(function(i){var u=$(n[i]),f=0,r=u.children(".dropdown-item");if(r.each(function(n){var t=$(r[n]);(t.hasClass("d-none")||t.disabled)&&f++}),f==r.length){let n=u.attr("data-noaction-message");$(t[i]).addClass("disabled");$(t[i]).prop("title",n??"You are not able to perform any actions for this item. Please contact staff for assistance.")}})}$(document).ready(function(){var n=document.querySelectorAll("a.btn.disabled");n.forEach(n=>{n.removeAttribute("href"),n.setAttribute("role","link"),n.setAttribute("aria-disabled","true")});$(".field-value:empty").closest(".field:not(.showEmptyValue)").hide();$(document).find("[data-toggle='collapse']").each(function(){var n=$(this);$(n.data("target")).filter(".collapse").length>0?n.addClass("collapse-control-expand"):n.addClass("collapse-control-collapse");n.click(function(){$(n.data("target")).toggle();n.toggleClass("collapse-control-expand collapse-control-collapse")})});$(".statusNormal").addClass("alert alert-secondary d-block").attr("role","alert");$(".statusError").addClass("alert alert-danger d-block").attr("role","alert");$(".statusInformation").addClass("alert alert-info d-block").attr("role","alert");$("[data-iso8601], [data-formatOnly]").each(function(){$time=$(this).attr("data-iso8601");let n=!1;$(this).attr("data-servertime")!=undefined&&(n=moment($(this).attr("data-servertime"),"MM/DD/YYYY hh:mm:ss a"));let t="LLL";$(this).attr("data-formatString")!=undefined&&(t=$(this).attr("data-formatString")||t);let r=!1,i=!1;$time!=undefined&&(r=moment.utc($time),i=moment(r).local());let u=!0;$(this).attr("data-dateOnly")!=undefined&&(u=$(this).attr("data-dateOnly")==="true");u&&t==="LLL"&&i&&(i.hour()==0&&i.minute()==0&&i.second()==0||n!=!1&&n.hour()==0&&n.minute()==0&&n.second()==0)&&(t="LL");$(this).attr("data-formatOnly")!=undefined&&$(this).attr("data-formatOnly")==="true"?$(this).html(n.format(t)):$(this).html(i.format(t))});$("select[data-persisted-value]").each(function(n,t){SelectPersistedValue(t)});$("input[type=radio][data-persisted-value],input[type=checkbox][data-persisted-value]").each(function(n,t){SelectPersistedValue(t)});$("select[data-persistedValue]").each(function(n,t){SelectPersistedValue(t,$(t).attr("data-persistedValue"))});$("button.checkAll").click(function(n){n.preventDefault();$("#"+$(this).attr("data-form")+" input:checkbox").prop("checked",!0)});$("button.checkNone").click(function(n){n.preventDefault();$("#"+$(this).attr("data-form")+" input:checkbox").prop("checked",!1)});HandleBoolCheckboxes();HandleDisableSubmitOnSubmit();HandleOtherCheckboxes();HandleOtherDropdowns();DisableEmptyActionMenus();$("[data-triggerDatePicker]").click(function(n){n.preventDefault();var t=$(this).attr("data-triggerDatePicker");$(t)!=null&&$(t).focus()})})